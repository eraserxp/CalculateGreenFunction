MKLROOT = /global/software/intel/composerxe-2011.0.084/mkl

CC = icc 

#use openmp, supress the warning d279, use c++11 standard
CFLAGS = -O3 -openmp -wd279 -Wall 

#include eigen, mkl
CINCLUDE = -I/home/pxiang/eigen -I/home/pxiang/gtest-1.7.0/include  -I$(MKLROOT)/include


#linking options
FLAGSLIB = -L$(MKLROOT)/lib/intel64 -lmkl_intel_lp64 -lmkl_core -lmkl_intel_thread -lpthread -lm
#-L$(MKLROOT)/lib/intel64 /home/pxiang/gtest-1.7.0/libgtest.a -lmkl_intel_lp64 -lmkl_intel_thread -lmkl_core -lpthread -limf


SOURCES = $(wildcard *.cpp) $(wildcard */*.cpp) 
#complex_matrix.cpp  complex_matrix_test.cpp  generate_alpha_beta.cpp  generate_alpha_beta_test.cpp  integer_matrix.cpp  main.cpp  matrix.cpp  matrix_test.cpp  mics.cpp 

green: $(SOURCES) iccMake
	$(CC) $(CFLAGS) $(CINCLUDE)   $(SOURCES)  $(FLAGSLIB) -o $@
# Tab before $(CC)

clean:
	rm -f test2
# Tab before "rm"
